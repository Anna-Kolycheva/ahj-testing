(()=>{"use strict";(new class{constructor(){this.cards=[...document.querySelectorAll(".cards__item")],this.input=document.querySelector(".form__input"),this.form=document.querySelector(".form")}init(){this.form.addEventListener("submit",this.onSubmit.bind(this))}onSubmit(t){t.preventDefault();const e=this.input.value.replace(/\s/g,"");if(!function(t){const e=t.replace(/\D/g,"");let s=0,r=!1;for(let t=e.length-1;t>=0;t-=1){let i=parseInt(e.charAt(t),10);r&&(i*=2)>9&&(i-=9),s+=i,r=!r}return s%10==0}(e))return this.clear(),void this.showMessage();const s=/^2/.test(r=e)?"mir":/^3[47]/.test(r)?"american_express":/^3[15]/.test(r)?"jcb":/^3[068]/.test(r)?"diners_club":/^4/.test(r)?"visa":/^5[1-5]/.test(r)?"mastercard":/^60/.test(r)?"discover":null;var r;this.showPaymentSystem(s)}showPaymentSystem(t){this.clear(),this.cards.forEach((e=>{e.classList.contains(t)&&e.classList.add("valid")}))}clear(){this.cards.forEach((t=>{t.classList.contains("valid")&&t.classList.remove("valid")}))}showMessage(){if(document.querySelector(".message"))return;const t=document.createElement("div");t.textContent="the card number was entered incorrectly",t.classList.add("message"),this.form.append(t),setTimeout((()=>{this.form.querySelector(".message").remove()}),2e3)}}).init()})();